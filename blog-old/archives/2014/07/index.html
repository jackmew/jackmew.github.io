<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2014/7 | Jackmew blog</title>
  <meta name="author" content="jackmew">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Jackmew blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Jackmew blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Jackmew blog</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2014/7</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-31T01:17:44.000Z"><a href="/2014/07/31/20140731/">Jul 31 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/31/20140731/">2014/07/31</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Google_Analytics">Google Analytics</h1>
<p>又是從<a href="http://zespia.tw/blog/2014/07/28/use-google-analytics-api-on-server/" target="_blank">SkyArrow</a>這小子知道的東西, 他在講如何安裝使用,<a href="http://sofree.cc/google-analytics/" target="_blank">香腸魷魚</a>比較明確解釋了這是拿來做什麼的:提供訪客瀏覽人次、網頁瀏覽人次、用戶的瀏覽器、作業系統、螢幕解析度、網站熱門文章、熱門關鍵字、訪客來自於何處等等資料</p>
<h1 id="完全用application-properties_建立project">完全用application.properties 建立project</h1>
<p>mvn archetype:create -DgroupId=org.jmc.sbProperty -DartifactId=sbProperty</p>
<p>@RestController 才可以return String</p>
<p>@Controller 試用於return model 到 並導向某個頁面</p>
<p>錄製影片=&gt;po youtube</p>
<h1 id="EnableAutoConfiguration">EnableAutoConfiguration</h1>
<p><a href="http://stackoverflow.com/questions/20685042/why-does-the-addition-of-enableautoconfiguration-cause-spring-boot-to-fail-with" target="_blank">link</a></p>
<h1 id="Thymleaf怪問題">Thymleaf怪問題</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/18.png" alt="image"></p>
<p>跳出的這個錯誤訊息 好像是 會無法讓Thymeleaf Autowire ?</p>
<p>所以我用self configuration 解決 </p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/21.png" alt="image"></p>
<p>的確是可以解決 但是我記得之前只設定application.properties 就可以設定Thymeleaf setting才對</p>
<p>試驗很久才發現 是application.properties設定有問題</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/19.png" alt="image"></p>
<ol>
<li><p>路徑的最前面 最後面都缺少/</p>
</li>
<li><p>我以為.properties #開頭都會被註解掉 沒發現false後面沒變顏色 其實是沒有註解掉的</p>
</li>
</ol>
<p>…一些白癡問題….</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/20.png" alt="image"></p>
<h1 id="Iterable">Iterable</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/java/iterable/1.png" alt="image"></p>
<p>稍微解釋了為什麼List和Set都可以用Iterator來尋訪</p>
<p>Iterable<Monster> =&gt; List<Monster></p>
<h1 id="Thymeleaf_抓出資料方法">Thymeleaf 抓出資料方法</h1>
<ol>
<li><p>List data : </p>
<pre><code> <span class="subst">&lt;</span>tr <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-each</span><span class="subst">=</span><span class="string">"monster : ${monsterList}"</span><span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"${monster.id}"</span><span class="subst">&gt;</span><span class="number">1</span><span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"${monster.name}"</span><span class="subst">&gt;</span>Iron Butterfly<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"${monster.category}"</span><span class="subst">&gt;</span>Triple Butter<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"${monster.ability}"</span><span class="subst">&gt;</span>Triple Butter<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
 <span class="subst">&lt;</span>/tr<span class="subst">&gt;</span>
</code></pre></li>
<li><p>object</p>
<pre><code> <span class="subst">&lt;</span>tr <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-each</span><span class="subst">=</span><span class="string">"${monster}"</span><span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"*{id}"</span><span class="subst">&gt;</span><span class="number">1</span><span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"*{name}"</span><span class="subst">&gt;</span>Iron Butterfly<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"*{category}"</span><span class="subst">&gt;</span>Triple Butter<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
     <span class="subst">&lt;</span>td <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-text</span><span class="subst">=</span><span class="string">"*{ability}"</span><span class="subst">&gt;</span>Triple Butter<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
 <span class="subst">&lt;</span>/tr<span class="subst">&gt;</span>
</code></pre></li>
</ol>
<h1 id="Thymeleaf_傳參數回_Controller的方法">Thymeleaf 傳參數回 Controller的方法</h1>
<p>1.</p>
<p>按下button type=”submit” 夾帶value</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/22.png" alt="image"></p>
<p>當按下save or cancel都會導向 <code>data-th-action=&quot;@{/strategy/edit}&quot;</code></p>
<p>但</p>
<p>按下save</p>
<p><code>&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot; name=&quot;action&quot; value=&quot;save&quot;</code></p>
<p>按下cancel</p>
<p><code>&lt;button type=&quot;submit&quot; class=&quot;btn btn-default active&quot; name=&quot;action&quot; value=&quot;cancel&quot;</code></p>
<p>會傳不同的參數到controller</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/23.png" alt="image"></p>
<p><code>@RequestParam(value=&quot;action&quot;, required=true) String action</code></p>
<p>接住參數! 在用這個參數來做處理 導向不同頁面 or 發出不同message</p>
<p>2.</p>
<p>按下anchor</p>
<p>直接一次夾帶兩個參數</p>
<pre><code>    <span class="subst">&lt;</span>a href<span class="subst">=</span><span class="string">"#"</span>    <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-href</span><span class="subst">=</span><span class="string">"@{/strategy/delete(id=${strategy.id},phase=stage)}"</span><span class="subst">&gt;</span>
</code></pre><h1 id="JSP_vs_Thymeleaf">JSP vs Thymeleaf</h1>
<p><a href="http://blog.csdn.net/kingzone_2008/article/details/19034615" target="_blank">link</a></p>
<p>Thymeleaf win</p>
<h1 id="spring-ex07-navigation">spring-ex07-navigation</h1>
<h2 id="using_Thymeleaf_fragment">using Thymeleaf fragment</h2>
<p><a href="http://startbootstrap.com/template-overviews/sb-admin-2/" target="_blank">SB-Admin theme</a></p>
<p>主要在講要怎麼加入Bootstrap的theme</p>
<p>超酷的呀 一堆很漂亮的theme , 用Thymeleaf到現在還沒有覺得有比直接用javascript寫好 , 但是一家上 fragment , 套用template這概念 就變超強</p>
<h2 id="bootstrap_theme_structure">bootstrap theme structure</h2>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/26.png" alt="image"></p>
<p>所有.html檔案 都可以點起來看 , 現在目的是要加入vertical bar , horizontal bar ,</p>
<p>然後原本的部分 卡在中間就好 像這樣</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/27.png" alt="image"></p>
<p>加入blank.html和所有folder 要照著原本的目錄結構放.</p>
<h1 id="blank-html_=&gt;_sb-admin-html">blank.html =&gt; sb-admin.html</h1>
<ol>
<li><p>horizental nav =&gt;  <code>&lt;nav data-th-fragment=&quot;top-nav&quot;</code></p>
</li>
<li><p>vertical nav =&gt;  <code>&lt;nav data-th-fragment=&quot;vert-nav-admin&quot;</code></p>
</li>
<li><p>留空 =&gt;</p>
<pre><code> <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"page-wrapper"</span>&gt;</span>
     <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"row"</span>&gt;</span>
         <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"col-lg-12"</span>&gt;</span>
             <span class="tag">&lt;<span class="title">h1</span> <span class="attribute">class</span>=<span class="value">"page-header"</span>&gt;</span>Blank<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
         <span class="comment">&lt;!-- /.col-lg-12 --&gt;</span>
     <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
     <span class="comment">&lt;!-- /.row --&gt;</span>
 <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
</code></pre><h1 id="strategy-list-html">strategy-list.html</h1>
<p> <div id="wrapper">                <!-- /#wrapper --></p>
<pre><code> <span class="subst">&lt;</span>div <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-replace</span><span class="subst">=</span><span class="string">"fragments/sb-admin :: top-nav"</span><span class="subst">&gt;&lt;</span>/div<span class="subst">&gt;</span> <span class="subst">=&gt;</span>用top<span class="attribute">-nav</span>

 <span class="subst">&lt;</span>div <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-replace</span><span class="subst">=</span><span class="string">"fragments/sb-admin :: vert-nav-admin"</span><span class="subst">&gt;&lt;</span>/div<span class="subst">&gt;</span> <span class="subst">=&gt;</span> 用vert<span class="attribute">-nav</span><span class="attribute">-admin</span>

 <span class="subst">&lt;</span>div id<span class="subst">=</span><span class="string">"page-wrapper"</span><span class="subst">&gt;</span> <span class="subst">=&gt;</span>用page<span class="attribute">-wrapper</span>
</code></pre></li>
</ol>
<h1 id="Response_timeline">Response timeline</h1>
<p><a href="http://startbootstrap.com/templates/sb-admin-2/" target="_blank">link</a> </p>
<p>找到想要用的東西！</p>
<h1 id="準備開始痛苦的Security之旅">準備開始痛苦的Security之旅</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-security-part-1.html" target="_blank">Spring MVC 4 &amp; Spring Security 3.2 - Part 1</a></p>
<p>光作者說要參考的就有四個超多內容的連結!</p>
<p><a href="http://spring.io/blog/2014/01/21/webinar-replay-spring-security-3-2" target="_blank">Presentation</a></p>
<p><a href="https://github.com/rwinch/gs-spring-security-3.2" target="_blank">Rob’s GitHub Repository</a></p>
<p><a href="http://docs.spring.io/spring-security/site/docs/3.2.x/guides/hellomvc.html" target="_blank">Hello Spring MVC Security Java Config</a></p>
<p><a href="http://docs.spring.io/spring-security/site/docs/3.2.x/guides/form.html" target="_blank">Creating a Custom Login Form</a></p>
<p>原來security全部的資料 都在這裡<a href="http://docs.spring.io/spring-security/site/docs/3.2.x/" target="_blank">Index of /spring-security/site/docs/3.2.x</a>,內容包含filter</p>
<h1 id="Spring-ex08-security">Spring-ex08-security</h1>
<p>基本的1.登入 2.判斷登入帳號密碼是否正確 3.顯示使用者 4.登出 </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-30T00:58:44.000Z"><a href="/2014/07/30/20140730/">Jul 30 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/30/20140730/">2014/07/30</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Thymeleaf_Expression_Syntax">Thymeleaf Expression Syntax</h1>
<p>為了理解form show error message =&gt; ex:</p>
<p>data-th-if=”${fields.hasErrors(‘type’)}” </p>
<p>是怎麼運作的 , 只好去看<a href="http://www.thymeleaf.org/doc/usingthymeleaf.html#standard-expression-syntax" target="_blank">Expression Syntax</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/1.png" alt="image"></p>
<h2 id="Message_Expression_#{…}_:">Message Expression #{…} :</h2>
<p>負責的部分是去抓message.properties 裡面的key/value</p>
<p>可以在message裡面加入參數</p>
<p>hello.first=Nice to meet you, {0} ! ==&gt; java.text.MessageFormat的用法</p>
<h2 id="Variable_${…}_=&gt;_OGNL(Object-Graph_Naviation_Language)">Variable ${…} =&gt; OGNL(Object-Graph Naviation Language)</h2>
<p>早期Struct 2 — EL — #{} —&gt; 去抓JSP各種資源</p>
<p>EL — 被取代 —&gt; <a href="http://commons.apache.org/proper/commons-ognl/" target="_blank">OGNL</a></p>
<p>是一種操作物件屬性的運算式語言</p>
<ol>
<li><p>支援給予值操作和運算式串聯</p>
</li>
<li><p>存取OGNL context &amp; ActionContext(所有的Servlet資源)</p>
</li>
<li><p>使用 . 當作操作符 person.getCountry.getName() ==同等於=&gt; person.country.name</p>
</li>
<li><p>能夠存取物件的方法</p>
</li>
</ol>
<h2 id="Thymeleaf_對_所有Serlet資源作存取:session,locale,_對request傳過來的參數做存取">Thymeleaf 對 所有Serlet資源作存取:session,locale, 對request傳過來的參數做存取</h2>
<p><a href="http://www.thymeleaf.org/doc/usingthymeleaf.html#appendix-a-expression-basic-objects" target="_blank">link</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/3.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/4.png" alt="image"></p>
<h2 id="Expression_Utitity_Object">Expression Utitity Object</h2>
<p><a href="http://www.thymeleaf.org/doc/usingthymeleaf.html#appendix-b-expression-utility-objects" target="_blank">link</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/2.png" alt="image"></p>
<p>這些Utility 對傳過來的Object or request parameter進行操作 處理 , 就像是我們之前jquery.ajax 傳接資料後 , 對資料進行存取一樣</p>
<h2 id="Expressions_on_selection(asterisk_syntax)_*{…}">Expressions on selection(asterisk syntax) *{…}</h2>
<p>跟${…} 做類似的事情 都是取variable , 但是*{…} 範圍較小 是已經被選擇(selection)的variable </p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/5.png" alt="image"></p>
<p>比如說 已經確定是抓到session裡面夾了user object , user object中當然也有參數 , 這已經被選擇(selection)的<br>的variable就可以被*{…]存取</p>
<h2 id="Link_URLs_@{…}">Link URLs @{…}</h2>
<p><a href="http://www.thymeleaf.org/doc/usingthymeleaf.html#link-urls" target="_blank">link</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/6.png" alt="image"></p>
<p>給予url 位置的syntax 並且可以夾帶dynamic variable</p>
<h2 id="相對路徑_引用bootstrap">相對路徑 引用bootstrap</h2>
<p><code>&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;../../resources/css/bootstrap-3.1.1.min.css&quot; th:href=&quot;@{/resources/css/bootstrap-3.1.1.min.css}&quot; /&gt;</code></p>
<h2 id="夾帶參數">夾帶參數</h2>
<p><code>&lt;a href=&quot;#&quot;    data-th-href=&quot;@{/strategy/edit(id=${strategy.id})}&quot;&gt;</code></p>
<p>按下Edit</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/7.png" alt="image"></p>
<p>那裡面的url就包了strategy.id的參數</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/8.png" alt="image"></p>
<h2 id="一次夾帶多個參數_用,分開">一次夾帶多個參數 用,分開</h2>
<p><code>&lt;a href=&quot;#&quot;    data-th-href=&quot;@{/strategy/delete(id=${strategy.id},phase=stage)}&quot;&gt;</code></p>
<p>按下Delete</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/9.png" alt="image"></p>
<p>夾帶id=9&amp;phase=stage 兩個參數</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/10.png" alt="image"></p>
<h2 id="th:text">th:text</h2>
<p>showing text</p>
<h2 id="th:utext">th:utext</h2>
<p><a href="http://www.thymeleaf.org/doc/usingthymeleaf.html#unescaped-text" target="_blank">showing unescaped text</a></p>
<h1 id="data-th-text_—取代—&gt;_th:text">data-th-text —取代—&gt; th:text</h1>
<p><a href="https://github.com/thymeleaf/thymeleaf/issues/93" target="_blank">因為要符和HTML5 validation</a></p>
<h1 id="Thymeleaf_local_variable">Thymeleaf local variable</h1>
<p><a href="http://stackoverflow.com/questions/20728660/setting-up-a-value-for-a-variable-name-in-thymeleaf" target="_blank">link</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/11.png" alt="image"></p>
<h1 id="一堆Attribue_th:atti_,_th:text…">一堆Attribue th:atti , th:text…</h1>
<p><a href="http://www.thymeleaf.org/doc/usingthymeleaf.html#setting-attribute-values" target="_blank">link</a></p>
<h1 id="這篇值得看一下_springmvc_+_mongo_+_thymeleaf_+_ajax">這篇值得看一下 springmvc + mongo + thymeleaf + ajax</h1>
<p><a href="http://xpadro.blogspot.tw/2014/02/thymeleaf-integration-with-spring-part-1.html" target="_blank">link</a></p>
<h1 id="現在的問題是_要怎麼最簡單的設定_Thymeleaf_？">現在的問題是 要怎麼最簡單的設定 Thymeleaf ？</h1>
<p>其實之前template找不到的問題是可以由<a href="http://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/htmlsingle/#common-application-properties" target="_blank">application.properties</a>設定 </p>
<h2 id="THYMELEAF_(ThymeleafAutoConfiguration)">THYMELEAF (ThymeleafAutoConfiguration)</h2>
<p>spring.thymeleaf.prefix=classpath:/templates/</p>
<p>spring.thymeleaf.suffix=.html</p>
<p>spring.thymeleaf.mode=HTML5</p>
<p>spring.thymeleaf.encoding=UTF-8</p>
<p>spring.thymeleaf.content-type=text/html # ;charset=<encoding> is added</p>
<p>spring.thymeleaf.cache=true # set to false for hot refresh</p>
<p>這邊的classpath: 會是src/main/resource</p>
<p>可以直接改成<code>spring.thymeleaf.prefix=WEB-INF/templates/</code> 就可以改變你template放置的目錄(預設是放在src/main/resources/templates)</p>
<p>但是在使用#{…} 去抓external message 時 一直抓不到, 我一直以為Thymeleaf的設定哪裡有錯 ,<br>所以就從剛好有找到的資料下手</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/12.png" alt="image"></p>
<p>但還是一直出現找不到template的錯誤訊息,一定要設定application.properties的參數才行</p>
<p>直到我找到<a href="http://stackoverflow.com/questions/22899132/thymeleaf-fails-on-gradle-build" target="_blank">link</a> , 根據<a href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/thymeleaf/ThymeleafAutoConfiguration.java" target="_blank">ThymeleafAutoConfiguration</a>的內容 此回應者的內容 you need to use the conventional bean name for the template resolver (“defaultTemplateResolver”), so that Boot knows what you are doing. </p>
<p>而從<a href="http://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html" target="_blank">java bean</a> 知道 By default, the bean name will be the same as the method name .</p>
<p>所以我嘗試將ThymeleafViewResolver 的function name:thymeleafTemplateResolver 改為 defaultTemplateResolver</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/13.png" alt="image"></p>
<p>結果就可以了!</p>
<p>研究發現同樣的bean name 才能去override原本的bean</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/14.png" alt="image"></p>
<h1 id="完整的Structure">完整的Structure</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/15.png" alt="image"></p>
<p>我希望主要進入程式點(entry point) 程式越少越好 , 各個不同部分的configuration 由不同的class去負責</p>
<p>由此圖可以看到 我將Configuration分為三個部分</p>
<p>1.DatabaseConfig</p>
<p>2.SpringContext</p>
<p>3.Thymeleaf</p>
<h3 id="App">App</h3>
<p>然而App 自己本身extends WebMvcConfigurerAdapter , 其實SpringContext的部分就是在做WebMvcConfigurerAdatper本身要做的事情,用來override某些設定, 但是就之前所說的 , 我希望儘量將Configuration分散 , 所以另外分成SpringContext</p>
<h3 id="SpringContext">SpringContext</h3>
<ol>
<li><p>控管哪些resources可以被使用,並決定哪個可以被設定成external message(message.properties)</p>
</li>
<li><p>設定Locale , 決定defaultLocale ,或根據server決定locale</p>
</li>
</ol>
<h3 id="Thymeleaf">Thymeleaf</h3>
<ol>
<li><p>決定Spring的template engine</p>
</li>
<li><p>設定template放置的位置prefix:WEB-INF/template , postfix:.html , cacheable : false(讓Thymeleaf可以直接refresh)</p>
</li>
</ol>
<h3 id="DatabaseConfig">DatabaseConfig</h3>
<ol>
<li>設定database 連線</li>
<li>將連線資料包成dataSource</li>
<li>設定transaction</li>
</ol>
<p>其他部分跟以往的設計一樣</p>
<h3 id="Model_,_Dao_,_Service_,Controller">Model , Dao , Service ,Controller</h3>
<p>有需要稍微了解請看<a href="http://jackmew.github.io/2014/07/29/20140729/">link</a></p>
<h3 id="專案結構">專案結構</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/16.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/17.png" alt="image"></p>
<p>之後還會加入SecurityConfig</p>
<p>還會再做一個完全用application.properties定義的project</p>
<p>因為找到<a href="http://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/htmlsingle/#common-application-properties" target="_blank">International</a></p>
<p>INTERNATIONALIZATION (MessageSourceAutoConfiguration)</p>
<p>spring.messages.basename=messages</p>
<p>spring.messages.cacheSeconds=-1</p>
<p>spring.messages.encoding=UTF-8</p>
<p>可能可以直接取代SpringContext 內 ResourceBundleMessageSource的部分 .</p>
<h1 id="Message_Queue">Message Queue</h1>
<p><a href="http://lab.howie.tw/2012/07/whats-different-between-amqp-and-jms.html" target="_blank">AMQP , JMS</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-29T01:31:47.000Z"><a href="/2014/07/29/20140729/">Jul 29 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/29/20140729/">2014/07/29</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="bean_scope">bean scope</h1>
<p><a href="http://docs.spring.io/spring/docs/4.0.1.RELEASE/spring-framework-reference/htmlsingle/#beans-java-specifying-bean-scope" target="_blank">link</a></p>
<h1 id="especially_around_the_use_of_DTOs_for_the_view_layer,_that_exacly_duplicate_the_fields_and_methods_of_an_entity/model_object">especially around the use of DTOs for the view layer, that exacly duplicate the fields and methods of an entity/model object</h1>
<p><a href="http://forum.spring.io/forum/other-spring-related/architecture/56753-controller-vs-service-vs-private-method-on-command-object" target="_blank">link</a></p>
<h1 id="DTR_Trading">DTR Trading</h1>
<p><a href="http://dtr-trading.blogspot.tw/" target="_blank">link</a></p>
<p>這個網站中 有一系列教學 全部都是2014年的記錄 </p>
<p>而且測試是可以run起來的 </p>
<p>我要把它全部看懂</p>
<h1 id="spring-ex01">spring-ex01</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-java-config.html" target="_blank">java-config</a></p>
<p>將原本的xml檔案全部刪除 改成java config , 使用jsp(後面會改用Thymeleaf)</p>
<p>建構的方式跟之前的springmvc / springboot 很像</p>
<p>WebAppConfig extends WebMvcConfigurerAdapter</p>
<p>就等於 springmvc 中的 <strong>WebAppInitilizer</strong></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/12.png" alt="image"></p>
<p>也等於 springboot 中的 <strong>App</strong></p>
<p>但奇特的是多了Initializer.java</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/1.png" alt="image"></p>
<p>似乎是在做集合所有configuration的動作</p>
<p>將Initializer刪除後 無法run</p>
<h1 id="spring-ex02">spring-ex02</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-and-hibernate-4.html" target="_blank">spring-mvc-4-and-hibernate-4</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/2.png" alt="image"></p>
<p>用@PropertySource去抓src/main/resources/databases.properties裡面的參數 設定database參數 和 hibernate參數</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/3.png" alt="image"></p>
<h2 id="DataSource">DataSource</h2>
<p>設定database connection:</p>
<ol>
<li>db.driver</li>
<li>db.url</li>
<li>db.username</li>
<li>db.password</li>
</ol>
<p>加上@Bean 之後 就可以@Autowired</p>
<h2 id="LocalSessionFactoryBean">LocalSessionFactoryBean</h2>
<p>session我之前的用法是 會將某些data 存在一個很大的scope中 所以程式中大部份地方都可以存取到session中的data , 然後session有個自己的生命週期 , 有timeout.</p>
<p>所以我猜測LocalSessionFactoryBean 會將database/hibernate的相關資訊 存在某session中 便於快速存取 快速mapping</p>
<p><a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/orm/hibernate4/LocalSessionFactoryBean.html" target="_blank">LocalSessionFactoryBean</a>:FactoryBean that creates a Hibernate SessionFactory. This is the usual way to set up a shared Hibernate SessionFactory in a Spring application context; the SessionFactory can then be passed to<strong> Hibernate-based data access objects via dependency injection.</strong></p>
<p>也就是是指sessionFactoryBean.setPackagesToScan(env.getRequiredProperty(PROPERTY_NAME_ENTITYMANAGER_PACKAGES_TO_SCAN));</p>
<p>它會先去scan com.dtr.oas.model 這個資料夾中的domain object</p>
<p>最後由HibernateTransactionManager 整合以上設定 , 也就是說 藉由以上 才可以使用sql 中的 Transaction .</p>
<h2 id="DAO_(Data_Access_Object)">DAO (Data Access Object)</h2>
<p><a href="http://en.wikipedia.org/wiki/Data_access_object" target="_blank">DAO</a>是指domain object 跟 database 的 mapping 如何實作 並將細節隱藏起來的這個Layer</p>
<p>所以如何mapping的這個過程 我們不需要去理會 但我們制定對database操作的動作 CRUD</p>
<h3 id="interface_StrategyDAO">interface StrategyDAO</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/4.png" alt="image"></p>
<p>這邊只訂定要對database做什麼操作</p>
<h3 id="StragegyDAOImple">StragegyDAOImple</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/5.png" alt="image"></p>
<p>實作這些操作</p>
<p>要注意的是: @Autowired SessionFactory </p>
<p>=&gt; 也就是我們在DatabaseConfig時的@Bean</p>
<p>為什麼Hibernate知道要去 1.操作哪個database? 2.操作哪個table?</p>
<ol>
<li>建立DataSource時 就已經建立database連線 並選擇連線到哪個database</li>
<li>LocalSessionFactoryBean setPackagesToScan 時 去scan了Strategy.java</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/6.png" alt="image"></p>
<p>可以看到@Entity @Table(name=”strategy”)<br>這告訴Spring 這個object mapping到database裡的名字叫做strategy的table:</p>
<p>然後在DatabaseConfig時 我們設定了很多細節 所以才可以使用到sql裡面的transaction,在此同時也設定了DAO部分的object mapping</p>
<p>也就是說當使用到Strategy這個 , 就會自動mapping到database table:strategy</p>
<p>所以@Autowired SessionFactory 讓我們可以順利的實作DAO CRUD 對database操作 </p>
<h2 id="Service">Service</h2>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/7.png" alt="image"></p>
<p>這邊的servcice 沒什麼特別的 就只是去使用DAO 也就是所謂的repository(通常制定如何操作資料庫)</p>
<p>唯一要注意的就是Annotation : @Service @Transational =&gt; 這個Transatonal表示 當執行Service的某個function<br>進而使用repository去操作資料庫時,若function沒有執行完,就會rollback .</p>
<h4 id="那為何Transaction是設在Service?">那為何Transaction是設在Service?</h4>
<p>因為Service不一定只call一次repository , 這個service的某function可能叫做updateUsername() </p>
<p>內容是去抓某些叫XXX,YYY的user 將他們的名字都update成ZZZ , 所以要使用repository的不止一次query,多次update或save</p>
<p>ex:</p>
<ol>
<li>query XXX</li>
<li>update XXX to ZZZ</li>
<li>query YYY</li>
<li>update YYY to ZZZ</li>
</ol>
<p>這幾個動作要一次全部完成 若是執行到中間的某個程式 就突然被中斷 那就要所有程式都被rollback</p>
<p>這樣database才不會出現 不完整的資料</p>
<h1 id="Controller">Controller</h1>
<p>由於@Controller 所以在WebAppConfig時 的@ComponentScan 就會將Controller scan到memory中 ,</p>
<p>所以Controller 在啟動server時 就有在執行了 , 並等待RequestMapping , 在這個例子中沒有做Security , 所以只要有RequestMapping的url 我們都可以直接去看.</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/8.png" alt="image"></p>
<p>當啟動server時 localhost:8080/spring-ex02/ </p>
<p>就會被</p>
<pre><code>@RequestMapping(<span class="keyword">value</span>=<span class="string">"/"</span>)
<span class="keyword">public</span> ModelAndView <span class="title">mainPage</span>() {
    <span class="keyword">return</span> <span class="keyword">new</span> ModelAndView(<span class="string">"home"</span>);
}
</code></pre><p>攔截到 並導向home.html</p>
<p>StrategyController 在宣告class時 上面就有@RequestMapping(value=”/strategy”)</p>
<p>這表示它的function 再加一層@RequestMapping(value=”/add”)</p>
<p>url mapping會變成 : localhost:8080/spring-ex02/strategy/add</p>
<p>@RequestMapping(value=”/edit/{id}”, method=RequestMethod.GET)</p>
<p>這個id 表示可以是任一值 並且都會對應到這個function , 並且controller這function可以抓到id這個值</p>
<p>springmvc + hibernate + mysql + jsp 完成基本的CRUD</p>
<h1 id="spring-ex03">spring-ex03</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-thymeleaf-prep-and-mockup.html" target="_blank">link</a></p>
<p>這章在講準備好Thymeleaf的環境:ThymeleafConfig</p>
<p>另外Thymeleaf的檔案(suffix)是.html</p>
<p>在Initializer加入ThymeleafConfig</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/9.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/10.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/11.png" alt="image"></p>
<p>TemplateResolver 似乎會蓋過 UrlBasedViewResolver 的設定</p>
<p>因為controller導向的是/WEB-INF/views/home.html</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/12.png" alt="image"></p>
<p>此時的html是static 沒有加上thymeleaf</p>
<h1 id="spring-ex04">spring-ex04</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-thymeleaf-crud-part-1.html" target="_blank">Thymeleaf CRUD - Part 1</a></p>
<p>加上hibernate-validator</p>
<p>然後<br>StragtegyDTO(Data Transfer Object)</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/13.png" alt="image"></p>
<p>就可以加上@NotNull , @NotEmpty 等validator</p>
<p>StrategyMapper 做Strategy 和 StrategyDTO 之間轉換</p>
<p>Strategy &lt;—- StrategyMapper —-&gt; StrategyDTO</p>
<p>StrategyDTO還定義了<a href="http://docs.spring.io/spring/docs/4.0.1.RELEASE/spring-framework-reference/htmlsingle/#beans-java-specifying-bean-scope" target="_blank">scope</a></p>
<p>controller —- strategys &amp; strategyDTO —-&gt; HTML(Thymeleaf)</p>
<p>controller &lt;— strategyDTO —- HTML(Thymeleaf)</p>
<p>其實我覺得根本不需要strategyDTO也可以</p>
<p>我覺得概念上可能是strategy 是對應 table 的物件 不應該是拿來傳來傳去的</p>
<p>DTO(Data Transfer Object) 才是拿來傳送的</p>
<h3 id="delete_phase">delete phase</h3>
<p>用phase定義delete三個階段</p>
<p>1.stage</p>
<p>2.confirm</p>
<p>3.cancel</p>
<h1 id="spring-ex05">spring-ex05</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-thymeleaf-and-bootstrap.html" target="_blank">Thymeleaf and Bootstrap</a></p>
<p>加上jquery &amp; bootstrap</p>
<p>之後改用webjar來加入</p>
<h1 id="spring-ex06">spring-ex06</h1>
<p><a href="http://dtr-trading.blogspot.tw/2014/02/spring-mvc-4-bootstrap-and-validation.html" target="_blank">Bootstrap and Validation</a></p>
<p>DTR決定remove DTO了 …我就覺得看不懂DTO和domain object有啥差別…</p>
<p>BaseEntity =&gt; 加強版的Id設定</p>
<p>Strategy =&gt; 繼承 BaseEntity =&gt; 就有了Id</p>
<p><a href="http://www.silverbaytech.com/2013/04/16/custom-messages-in-spring-validation/" target="_blank">Spring Validation</a> in using <a href="http://hibernate.org/validator/" target="_blank">Hibernate Validator</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/15.png" alt="image"></p>
<p>@NotNull , @Size =&gt; javax.validation</p>
<p>@NotEmpty =&gt; hibernate.validation</p>
<p>有以上設定後 在controller就可以用 =&gt; @Valid</p>
<p>controller =&gt;</p>
<ol>
<li>perform validation and pass error message back to the Thymeleaf pages</li>
<li>logging the controller</li>
<li>update the controller method to return Strings rather than ModelAndView objects</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/14.png" alt="image"></p>
<p>當按下新增後 對應到addStrategy</p>
<p>會將Stategy object傳到這個function 由Strategy strategy接收</p>
<p>前面又定義了他是@ModelAttribute 表示是hibernate mapping 到的object</p>
<p>再加上@Valid 就會去判斷在這個object 有加上哪些validator(@NotNull,NotEmpty…..) , 若是有無法過的validator就會發出訊息給 BindingResult 接收 .</p>
<ol>
<li>出現錯誤 : BindingResult + RedirectAttributes</li>
</ol>
<p>BindingResult 存有訊息 由RedirectAttributes轉頁面</p>
<ol>
<li>正常 : Model =&gt; </li>
</ol>
<p>model.addAttribute(“message”, message); =&gt; 存訊息</p>
<p>return “redirect:/strategy/list”; =&gt; return String 轉頁面</p>
<p>的確是正常出現錯誤訊息了 </p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/16.png" alt="image"></p>
<p>但是看不懂Thymeleaf data-th-if=”${#fields.hasErrors(‘type’)}”</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/dtr/17.png" alt="image"></p>
<p>不知道是怎麼接收錯誤訊息 或是怎麼知道錯誤訊息？</p>
<h1 id="Field_errors">Field errors</h1>
<p><a href="http://www.thymeleaf.org/doc/thymeleafspring.html#field-errors" target="_blank">link</a></p>
<p>有了基本概念後 再去看上一張圖片</p>
<p>Thymelea的form和field一直有和domain object bind在一起</p>
<p><code>data-th-field=&quot;*{type}&quot;</code></p>
<p><code>data-th-field=&quot;*{name}&quot;</code></p>
<p>確定domain objct: strategy的<strong>type </strong>Column bind在此格td</p>
<p><strong>name</strong>也是做一樣的事情</p>
<p>當 BindingResult result 存有錯誤訊息 </p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/24.png" alt="image"></p>
<p>看到錯誤訊息：</p>
<p>Field error in object ‘strategy’ on field ‘name’: </p>
<p>Field error in object ‘strategy’ on field ‘type’:</p>
<p>所以</p>
<pre><code>    <span class="subst">&lt;</span>td class<span class="subst">=</span><span class="string">"col-sm-4 text-danger"</span> <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-if</span><span class="subst">=</span><span class="string">"${#fields.hasErrors('type')}"</span> <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-errors</span><span class="subst">=</span><span class="string">"*{type}"</span><span class="subst">&gt;</span><span class="keyword">type</span> error<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
    <span class="subst">&lt;</span>td class<span class="subst">=</span><span class="string">"col-sm-4 text-danger"</span> <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-if</span><span class="subst">=</span><span class="string">"${#fields.hasErrors('name')}"</span> <span class="built_in">data</span><span class="attribute">-th</span><span class="attribute">-errors</span><span class="subst">=</span><span class="string">"*{name}"</span><span class="subst">&gt;</span>name error<span class="subst">&lt;</span>/td<span class="subst">&gt;</span>
</code></pre><p>就可以抓到有錯誤</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/thymeleaf/25.png" alt="image"></p>
<p><code>data-th-errors</code> 顯示出所有錯誤訊息</p>
<p>在夾帶button type=submit 的action 參數value時 </p>
<p>原本<code>if (action.equals(&quot;save&quot;))</code></p>
<p>改成<code>if (phase.equals( messageSource.getMessage(&quot;button.action.stage&quot;, null, Locale.US) ))</code></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-28T00:30:17.000Z"><a href="/2014/07/28/20140728/">Jul 28 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/28/20140728/">2014/07/28</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Generic">Generic</h1>
<p><a href="http://openhome.cc/Gossip/Java/Generics.html" target="_blank">link</a></p>
<p>總之就是可以讓你自定義要用的同一種類型別</p>
<h1 id="ArrayList">ArrayList</h1>
<p>ArrayList —implement—&gt;List interface —child interface of —&gt; Collection</p>
<h1 id="Hashmap">Hashmap</h1>
<p>LinkedHashMap —child class of—&gt; Hashmap —implement—&gt;map</p>
<h1 id="content_assist_in_eclipse">content assist in eclipse</h1>
<p><a href="https://www.youtube.com/watch?v=JqMxaETAMaA" target="_blank">link</a></p>
<ol>
<li>顯示proposal</li>
<li>快速snippet</li>
</ol>
<p>改成 shift+cmd+s</p>
<p>run java application : shift + cmd + r</p>
<h1 id="thymeleaf_text_externalizing">thymeleaf text externalizing</h1>
<p><a href="http://forum.thymeleaf.org/listjoin-use-with-externalizing-text-td4027704.html" target="_blank">link</a></p>
<p><a href="http://forum.thymeleaf.org/Problem-with-euro-symbol-td3156574.html" target="_blank">link</a></p>
<p><a href="http://forum.thymeleaf.org/Easy-alternatives-to-text-externalization-td4027207.html#a4027219" target="_blank">link</a></p>
<p>用不出來 搞不懂為什麼抓不到…</p>
<p><a href="http://forum.thymeleaf.org/Messages-and-ResourceBundles-td3379900.html" target="_blank">link</a></p>
<p>最下面有提到為什麼無法抓到</p>
<h1 id="試試看這tutorial好了">試試看這tutorial好了</h1>
<p><a href="http://justinrodenbostel.com/tag/spring-boot/" target="_blank">link</a></p>
<p><code>gradle clean</code><br><code>gradle build</code><br><code>gradle bootRun</code></p>
<h1 id="form_binding">form binding</h1>
<p>bind java objects to forms in these views for processing</p>
<h1 id="validate">validate</h1>
<p><a href="http://stackoverflow.com/questions/21039483/thymeleaf-and-jquery" target="_blank">client-side validation is not a good idea </a></p>
<h1 id="thymeleaf_jquery">thymeleaf jquery</h1>
<p><a href="http://stackoverflow.com/questions/23592456/thymeleaf-send-object-to-ajax" target="_blank">thymeleaf pass object to js variable</a> </p>
<p><a href="https://github.com/thymeleaf/thymeleaf/issues/207" target="_blank">link</a></p>
<p><a href="http://stackoverflow.com/questions/14365746/variable-expression-into-javascript-without-using-thinline" target="_blank">link</a></p>
<p><a href="http://forum.thymeleaf.org/variable-expression-into-javascript-without-using-th-inline-td4025534.html" target="_blank">link</a></p>
<p><a href="http://stackoverflow.com/questions/24227318/thymeleaf-39-added-on-passing-parameter-to-javascript-function" target="_blank">link</a></p>
<h1 id="International">International</h1>
<p><a href="http://justinrodenbostel.com/tag/spring-boot/" target="_blank">Part 4 </a></p>
<h2 id="ResourceBundleMessageSource">ResourceBundleMessageSource</h2>
<ol>
<li>set up a resource bundle for messages</li>
<li>name them to support locales</li>
<li>wire a LocaleResolver and LocaleChangeInterceptor into our test application</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/2/3.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/2/4.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/2/5.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/2/6.png" alt="image"></p>
<h1 id="Spring_Security">Spring Security</h1>
<p><a href="http://justinrodenbostel.com/tag/spring-boot/" target="_blank">Part 5</a></p>
<h1 id="Jasypt">Jasypt</h1>
<p><a href="http://justinrodenbostel.com/tag/spring-boot/" target="_blank">Part 5A</a></p>
<p>Jasypt is an encryption tool for Java.</p>
<p>將application.properties 內的</p>
<p>spring.datasource.url=jdbc:mysql://localhost/SpringBoot<br>spring.datasource.username=root<br>spring.datasource.password=xxxxxxxx</p>
<p>都變成密碼</p>
<h1 id="movie">movie</h1>
<p><a href="https://github.com/tobiasflohre/movie-database/blob/master/src/main/webapp/resources/js/custom.js" target="_blank">link</a></p>
<h1 id="reference">reference</h1>
<p><a href="http://dtr-trading.blogspot.tw/search/label/Thymeleaf" target="_blank">label Thymeleaf</a></p>
<p><a href="http://dtr-trading.blogspot.tw/2014/04/spring-security-32-users-roles.html" target="_blank">Spring Security 3.2 - Users, Roles, Permissions - Part 1</a></p>
<p><a href="http://dtr-trading.blogspot.tw/2014/04/spring-thymeleaf-crud-user-maintenance.html" target="_blank">Spring Thymeleaf CRUD User Maintenance - Part 1</a></p>
<p>watch his April archive</p>
<h1 id="我覺得thymeleaf_跟_jquery_套在一起好像有點怪？_但應該也可以做">我覺得thymeleaf 跟 jquery  套在一起好像有點怪？ 但應該也可以做</h1>
<p>不確定Thymeleaf 在填入資料在html中的這個動作</p>
<p>和jquery documentReady哪個先 ？</p>
<p>猜測是Thymeleaf快 因為它屬於server-side</p>
<p>至於jquery只要有id/name啥的 一樣可以執行才對</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-25T00:42:28.000Z"><a href="/2014/07/25/20140725/">Jul 25 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/25/20140725/">2014/07/25</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="SpringBootServletInitializer">SpringBootServletInitializer</h1>
<p><a href="http://spring.io/guides/gs/convert-jar-to-war/" target="_blank">link</a></p>
<p>也跟SecurityConfig有關</p>
<h1 id="dispatch">dispatch</h1>
<p>可能分為兩種</p>
<ol>
<li><p>ModelAndView + JSP + spring.view.prefix =&gt; 其實只有jsp這種方式才要有WEB-INF ?</p>
</li>
<li><p>addResource</p>
</li>
</ol>
<h1 id="改變研究順序">改變研究順序</h1>
<ol>
<li>thymeleaf</li>
<li><a href="http://spring.io/guides/gs/securing-web/" target="_blank">security-web</a></li>
<li>security-login =&gt; spring-boot-sample-web-secure</li>
</ol>
<p><a href="https://www.udemy.com/spring-framework-4/?couponCode=OFFER39" target="_blank">線上授課</a></p>
<h1 id="比較好聽">比較好聽</h1>
<p><a href="https://www.youtube.com/watch?v=GNteuJDo1KA" target="_blank">link</a></p>
<h1 id="template_加入_&amp;_就會出現ERROR">template 加入 &amp; 就會出現ERROR</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/2/2.png" alt="image"></p>
<h1 id="thyemleaf_good_tutorial">thyemleaf good tutorial</h1>
<h1 id="Generic">Generic</h1>
<p><a href="http://puremonkey2010.blogspot.tw/2010/12/gossip-in-java-generics.html" target="_blank">link</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-24T01:29:38.000Z"><a href="/2014/07/24/20140724/">Jul 24 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/24/20140724/">2014/07/24</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="@Spring_data_common">@Spring data common</h1>
<p><a href="http://docs.spring.io/spring-data/data-commons/docs/1.9.x/reference/htmlsingle/#repositories.create-instances.java-config" target="_blank">link</a></p>
<h1 id="crudRepository_@Query">crudRepository @Query</h1>
<p><a href="http://stackoverflow.com/questions/15681526/spring-data-customer-query-with-no-property-matching" target="_blank">link</a></p>
<p><a href="http://stackoverflow.com/questions/15681526/spring-data-customer-query-with-no-property-matching" target="_blank">link</a></p>
<h2 id="基本_@Query">基本 @Query</h2>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/22.png" alt="image"></p>
<ol>
<li>基本嘗試</li>
<li>sql語句加入參數 給參數名字 @Param</li>
<li>sql語句加入參數 無參數名字 ?1 開始</li>
<li>native sql 語句</li>
</ol>
<h1 id="crudRepository_save">crudRepository save</h1>
<p>出現exception :<br>The database returned no natively generated identity value</p>
<p>我覺得是因為讓table 自己建立id</p>
<h2 id="exception_:_Null_value_was_assigned_to_a_property_of_primitive_type_setter">exception : Null value was assigned to a property of primitive type setter</h2>
<p>因為接收的type是primative type =&gt; ex : int  不能是null<br>Non-primative type 就可以接收 null =&gt; Integer</p>
<p>float =&gt; Float</p>
<p>還要做一些設計…有點麻煩 乾脆先不要讓他Null</p>
<h2 id="所以需要考慮_某些型別是可以NULL_有些不行">所以需要考慮 某些型別是可以NULL 有些不行</h2>
<p>重新create table</p>
<p><code>mysql&gt; CREATE TABLE Monster ( id BIGINT NOT NULL AUTO_INCREMENT , name VARCHAR(20) NOT NULL ,  ability VARCHAR(20) NOT NULL, category VARCHAR(20) NOT NULL, born Date NOT NULL, height FLOAT NOT NULL, weight FLOAT NOT NULL , PRIMARY KEY (id));</code></p>
<p>塞入data</p>
<p><code>mysql&gt; insert into Monster(name,ability,category,born,height,weight) values(&quot;Krookodile&quot;,&quot;Moxie&quot; ,&quot;Intimidate&quot;,CURDATE(),4.11,212.3);</code></p>
<h2 id="“born”:1406131200000_output時間格式的問題">“born”:1406131200000 output時間格式的問題</h2>
<p>…一堆問題啊 ＝＝</p>
<p>改變born 的型別 date =&gt; datetime </p>
<p><code>alter table Monster modify born datetime not null</code></p>
<p>但抓出來的還是一堆數字</p>
<p>其實可以在真正要output給人看時候 再去轉換</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/23.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/24.png" alt="image"></p>
<h1 id="test_repository">test repository</h1>
<p><a href="http://stackoverflow.com/questions/23839391/cannot-use-delete-on-crudrepository" target="_blank">link</a></p>
<h1 id="crud_example_,_very_useful">crud example , very useful</h1>
<p><a href="http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-two-crud/" target="_blank">link</a></p>
<h1 id="crudRepository_delete">crudRepository delete</h1>
<p>似乎都是先找到某一個object 再對那個object去刪除</p>
<h1 id="Serving_Static_Web_Content_with_Spring_Boot">Serving Static Web Content with Spring Boot</h1>
<p><a href="http://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot" target="_blank">link</a></p>
<p><code>@Controller class JsApp { }</code></p>
<p>有著@Controlle的空的class 會 trigger AutoConfiguration </p>
<p>=&gt;</p>
<ol>
<li><p>set up a full Spring MVC stack</p>
</li>
<li><p>enable support for Tomcat</p>
</li>
</ol>
<p><code>spring run app.groovy</code> 啟動後 這個server 就有最基本的Tomcat deploy html的能力</p>
<p>springMVC：</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/25.png" alt="image"></p>
<p>springBoot: (將springMVC的設定 預設包在裡面)</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/26.png" alt="image"></p>
<p>原本要做的MVCConfig 就隱藏在springBoot後面 先做好了</p>
<ol>
<li><p>/META-INF/resources/</p>
</li>
<li><p>/resources/</p>
</li>
<li><p>/static/</p>
</li>
<li><p>/public/</p>
</li>
</ol>
<p>web AutoConfiguration =&gt; 只要辨識到@controller 就會自懂去執行</p>
<h1 id="有用">有用</h1>
<p><a href="http://kielczewski.eu/2014/04/spring-boot-mvc-application/" target="_blank">link</a></p>
<h1 id="configurate_view">configurate view</h1>
<p><a href="http://stackoverflow.com/questions/20467103/spring-mvc-maven-integration" target="_blank">link</a></p>
<p>所以猜測有很多configuration 都可以<a href="http://docs.spring.io/spring-boot/docs/1.1.1.RELEASE/reference/html/common-application-properties.html" target="_blank">直接在application.properties裡面設定</a></p>
<h1 id="spring_boot_serve_static">spring boot serve static</h1>
<p>直接建立folder webapp就可以了 然後把index.html放入 就會自己變成首頁 </p>
<p>輸入localhost:8090 會自己找到localhost:8090/index.html</p>
<h2 id="server-port">server.port</h2>
<p>在application.properties 加入</p>
<p>server.port=8090</p>
<h1 id="webjars">webjars</h1>
<p><a href="http://www.webjars.org/" target="_blank">webjars</a></p>
<p>將web library包成jar ex: jQuery,Bootstrap ,<br>在pom.xml裡面 加入</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/2/1.png" alt="image"></p>
<p>就可以不用再下自己手動下載包進去</p>
<p>在index.html include進去jQuery</p>
<p><code>&lt;script type=&quot;text/javascript&quot;
        src=&quot;/webjars/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;</code></p>
<h1 id="test_web_static">test web static</h1>
<h1 id="似乎有用影片">似乎有用影片</h1>
<p><a href="https://www.youtube.com/watch?v=xjVBAsGFUiY" target="_blank">link</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-22T01:28:43.000Z"><a href="/2014/07/22/20140722/">Jul 22 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/22/20140722/">2014/07/22</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="YAML">YAML</h1>
<p><a href="https://code.google.com/p/snakeyaml/" target="_blank">link</a></p>
<h1 id="good_starting_point_for_you_application_plus_additional_references_&amp;_informations">good starting point for you application plus additional references &amp; informations</h1>
<p><a href="http://mhdevelopment.wordpress.com/2014/02/09/bootstrap-an-application-with-spring-boot-part1-command-line/" target="_blank">link</a></p>
<h1 id="homebrew_remove_mysql_&amp;_install_mysql">homebrew remove mysql &amp; install mysql</h1>
<p>原來之前就已經裝好了…</p>
<p><code>mysql</code></p>
<p>ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2)</p>
<p>是因為要先開啟mysql server</p>
<p><code>mysql.server start</code> 才能啟動<code>mysql</code></p>
<p><code>mysql.server stop</code> 關閉server 不能啟動<code>mysql</code></p>
<h1 id="mysql_tutorial">mysql tutorial</h1>
<p><a href="http://dev.mysql.com/doc/refman/5.6/en/entering-queries.html" target="_blank">link</a></p>
<p>啟動mysql server<br><code>mysql.server start</code></p>
<p>登入 server </p>
<ol>
<li><code>mysql</code>  此時的使用者名稱:  jackho@localhost</li>
<li><code>mysql -u root -p</code> 此時的使用者名稱:  root@localhost :有最大權限</li>
</ol>
<p>啟動mysql server</p>
<p><code>select user()</code> =&gt; 看現在登入的使用者名稱</p>
<p><code>show databases</code> =&gt; 看現在已建立的databases</p>
<p><code>user test</code> =&gt; 使用 test database</p>
<h3 id="database">database</h3>
<p><code>create database SpringBoot</code></p>
<p><code>USE SpringBoot</code></p>
<p>建立好database後 除了root之外 沒有人可以使用這個database 所以要給別人權限</p>
<p><a href="http://beginner-sql-tutorial.com/sql-grant-revoke-privileges-roles.htm" target="_blank">Grant/Revoke</a></p>
<p><code>GRANT ALL ON SpringBoot.* To jackho@localhost</code></p>
<h3 id="table">table</h3>
<p><code>CREATE TABLE pet (name VARCHAR(20), owner VARCHAR(20),species VARCHAR(20), sex CHAR(1), birth DATE, death DATE);</code></p>
<p><code>show tables</code> 看現在有哪些table</p>
<p><code>describe pet</code> 看某個table的細節</p>
<p><code>insert into pet values(&#39;Puffball&#39;,&#39;Diane&#39;,&#39;hamster&#39;,&#39;f&#39;,&#39;1993-03-30&#39;,NULL);</code></p>
<h2 id="一定要用單引號！！！！！">一定要用單引號！！！！！</h2>
<h1 id="spring_boot_demo">spring boot demo</h1>
<p><a href="http://start.spring.io/" target="_blank">start</a></p>
<h1 id="好像很有用的youtube_spring_boot">好像很有用的youtube spring boot</h1>
<p><a href="https://www.youtube.com/channel/UC3oNtvY3sETKZU7wEQyePQQ" target="_blank">link</a></p>
<ol>
<li>create basic spring boot =&gt; <a href="http://maven.apache.org/plugins-archives/maven-archetype-plugin-1.0-alpha-7/examples/simple.html" target="_blank">create a simple mvn project</a></li>
</ol>
<p><code>mvn archetype:create 
  -DgroupId=[your project&#39;s group id]
  -DartifactId=[your project&#39;s artifact id]</code></p>
<p><code>mvn clean package spring-boot:run</code></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-21T02:40:05.000Z"><a href="/2014/07/21/20140721/">Jul 21 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/21/20140721/">2014/07/21</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="HAL_(Hypertext_Application_Language)">HAL (Hypertext Application Language)</h1>
<p><a href="http://stateless.co/hal_specification.html" target="_blank">link</a></p>
<h1 id="用terminal_發出request">用terminal 發出request</h1>
<h1 id="Spring_Boot">Spring Boot</h1>
<p><a href="http://projects.spring.io/spring-boot/" target="_blank">link</a></p>
<p><a href="http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/" target="_blank">reference</a></p>
<p><a href="http://docs.spring.io/spring-boot/docs/current/reference/html/boot-documentation-about.html" target="_blank">reference-advance</a></p>
<p><a href="http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html" target="_blank">boot-features-external-config</a></p>
<h1 id="Spring_Boot_deploy">Spring Boot deploy</h1>
<p><a href="http://blog.lyhdev.com/2012/10/cloud-foundry-30it.html" target="_blank">cloud-foundry-30it</a></p>
<h1 id="Spring_Boot_discus">Spring Boot discus</h1>
<p><a href="http://steveperkins.net/use-spring-boot-next-project/" target="_blank">link</a></p>
<h1 id="GVM_(Groovy_enVironment_Manager)">GVM  (Groovy enVironment Manager)</h1>
<p><a href="http://gvmtool.net/" target="_blank">link</a></p>
<p>support:</p>
<p>Groovy</p>
<p>Grails</p>
<p>Gradle</p>
<p>Spring Boot</p>
<p><code>gvm install gradle</code></p>
<p><code>gvm install springboot</code></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/18.png" alt="image"></p>
<p>感覺跟node開發一樣快！ 這一定要研究研究了！</p>
<h1 id="atom_groovy">atom groovy</h1>
<p><a href="https://atom.io/packages/language-groovy" target="_blank">link</a></p>
<h1 id="spring_boot_with_maven">spring boot with maven</h1>
<p>當使用spring boot建立專案時 </p>
<pre><code><span class="tag">&lt;<span class="title">parent</span>&gt;</span>
    <span class="tag">&lt;<span class="title">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="title">groupId</span>&gt;</span>
    <span class="tag">&lt;<span class="title">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="title">artifactId</span>&gt;</span>
    <span class="tag">&lt;<span class="title">version</span>&gt;</span>1.2.0.BUILD-SNAPSHOT<span class="tag">&lt;/<span class="title">version</span>&gt;</span>
<span class="tag">&lt;/<span class="title">parent</span>&gt;</span>
</code></pre><p>若是沒有改你當下使用的maven =&gt;/apache-maven-3.1.0/conf/setting.xml</p>
<p>你的dependency就會下載到 <code>Default: ${user.home}/.m2/repository</code></p>
<h1 id="cloud_foundry">cloud foundry</h1>
<p><a href="https://console.run.pivotal.io/tools" target="_blank">cf]</a></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/19.png" alt="image"></p>
<p>You can deploy</p>
<ol>
<li><p>stand-alone executable jar applications</p>
</li>
<li><p>as well as traditional .war packaged applications.</p>
</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/20.png" alt="image"></p>
<p><code>cf push -p target/myproject-0.0.1-SNAPSHOT.jar</code></p>
<p>自動去抓manifest.yml , 會抓到name 就是這個project名稱</p>
<p><code>cf apps</code>  看app狀況</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/21.png" alt="image"></p>
<p><a href="http://sbcf.cfapps.io/" target="_blank">http://sbcf.cfapps.io/</a>   sbcf=&gt;Spring Boot Cloud Foundry</p>
<h1 id="convert_jar_to_war">convert jar to war</h1>
<p><a href="http://spring.io/guides/gs/convert-jar-to-war/" target="_blank">link</a></p>
<p>將原本compile to jar 變成 compilet to war</p>
<p>然後deploy到tomcat </p>
<h1 id="spring_boot_example">spring boot example</h1>
<p><a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples" target="_blank">link</a></p>
<h1 id="learn_backbone">learn backbone</h1>
<p><a href="http://javascriptissexy.com/learn-backbone-js-completely/" target="_blank">link</a></p>
<h1 id="gradle">gradle</h1>
<p><a href="https://www.youtube.com/watch?v=zSnsi6wd6GA" target="_blank">link</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-18T01:41:25.000Z"><a href="/2014/07/18/20140718/">Jul 18 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/18/20140718/">2014/07/18</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="spring_tutorial_4_=&gt;_RestTemplate">spring tutorial 4 =&gt; RestTemplate</h1>
<p><a href="http://spring.io/guides/tutorials/rest/4/" target="_blank">link</a></p>
<p>RestTemplate 是用來測試rest path的物件</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/6.png" alt="image"></p>
<ol>
<li>設定HTTP response : 設定接收格式JSON</li>
<li>宣告和建立RestTemplate</li>
<li>建立Http entity 塞入JSON data</li>
<li>建立和發出 Http request 並用ResponseEntity 回傳</li>
</ol>
<h1 id="Spring_Security">Spring Security</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/7.png" alt="image"></p>
<h3 id="build-gradle">build.gradle</h3>
<p>加入   <code>maven { url &#39;http://repo.spring.io/milestone/&#39;}</code>  這個repository</p>
<p>並加入 dependencies </p>
<pre><code>compile <span class="string">'org.springframework.security:spring-security-web:3.2.0.M2'</span>
compile <span class="string">'org.springframework.security:spring-security-core:3.2.0.M2'</span>
compile <span class="string">'org.springframework.security:spring-security-config:3.2.0.M2'</span>
</code></pre><p>就可以設定spring security</p>
<h3 id="SpringConfig">SpringConfig</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/8.png" alt="image"></p>
<ol>
<li><p>註冊驗證條件 也就是說有需要驗證的url , request header必須要有滿足的authentation條件</p>
</li>
<li><p>定義哪些url要驗證 , 當request某個url 也就是resource時 是否要驗證  </p>
</li>
</ol>
<h3 id="WebAppInitializer">WebAppInitializer</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/9.png" alt="image"></p>
<p>target : 去抓取並設定SpringConfig </p>
<ol>
<li><p>加入SecurityConfig.class 然後才可以去設定filter</p>
</li>
<li><p>設定Spring Security Filter</p>
</li>
<li><p>設定filter的代理 到rootContext </p>
</li>
</ol>
<h3 id="測試">測試</h3>
<p>在原本的orderTest發出 request前 header加入authorisation 帳號密碼</p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/10.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/11.png" alt="image"></p>
<ol>
<li><p>建立和設定HttpHeader 夾帶JSON format的帳號密碼</p>
</li>
<li><p>在發出request前 在header中加入正確的帳號密碼</p>
</li>
<li><p>在發出request前 在header中加入錯誤的帳號密碼</p>
</li>
</ol>
<h1 id="Conclusion">Conclusion</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/12.png" alt="image"></p>
<h1 id="HATEOAD">HATEOAD</h1>
<p><a href="http://www.blogjava.net/shinzey/archive/2011/09/16/358799.html" target="_blank">link</a></p>
<p><a href="http://spring.io/understanding/HATEOAS" target="_blank">link</a></p>
<p>是REST application的約束</p>
<p>HATEOAS-based response</p>
<pre><code>{
    <span class="string">"name"</span>: <span class="string">"Alice"</span>,
    <span class="string">"links"</span>: [ {
        <span class="string">"rel"</span>: <span class="string">"self"</span>,  <span class="comment">//rel : relationship</span>
        <span class="string">"href"</span>: <span class="string">"http://localhost:8080/customer/1"</span> <span class="comment">//is a complete URL that uniquely defines the resource</span>
    } ]
}
</code></pre><h1 id="Data_Access_with_Spring">Data Access with Spring</h1>
<p><a href="http://en.wikipedia.org/wiki/Domain-driven_design" target="_blank">domain driven desing</a></p>
<p>Data stores:</p>
<ol>
<li><p>the MongoDB document store</p>
</li>
<li><p>a relational database using JPA </p>
</li>
<li><p>and Pivotal GemFire</p>
</li>
</ol>
<h1 id="mongoTemplate">mongoTemplate</h1>
<ol>
<li><p>does the leg work of connecting to a MongoDB server</p>
</li>
<li><p>managing the necessary resources involved</p>
</li>
<li><p>exposing a simple API that provides a large amount of functionalityr</p>
</li>
</ol>
<h1 id="mongodb_shell">mongodb shell</h1>
<p><a href="http://docs.mongodb.org/v2.2/reference/mongo-shell/" target="_blank">link</a></p>
<h1 id="accessing-data-mongodb">accessing-data-mongodb</h1>
<p><a href="http://spring.io/guides/gs/accessing-data-mongodb/" target="_blank">link</a></p>
<ol>
<li>定義domain object : customer</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/13.png" alt="image"></p>
<ol>
<li>定義repository extends MongoRepository , 無implemention</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/14.png" alt="image"></p>
<ol>
<li>main 是程式進入點</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/15.png" alt="image"></p>
<ol>
<li>執行成功</li>
</ol>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/16.png" alt="image"></p>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/spring/17.png" alt="image"></p>
<h1 id="PostgreSQL">PostgreSQL</h1>
<p>a freely available, robust, relational database.</p>
<h1 id="openshift_+_springmvc_+_hibernate_+_gradle_+_postgresql_+_jquery_+_backbone">openshift + springmvc  + hibernate + gradle + postgresql + jquery + backbone</h1>
<h1 id="Jenkins_=&gt;_CI_Server(Continuous_Integration_Server)">Jenkins =&gt; CI Server(Continuous Integration Server)</h1>
<p><a href="http://ithelp.ithome.com.tw/question/10109773" target="_blank">link</a></p>
<h1 id="highchart">highchart</h1>
<p> 有stock功能！</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-17T01:42:59.000Z"><a href="/2014/07/17/20140717/">Jul 17 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/17/20140717/">2014/07/17</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="flickr">flickr</h1>
<p>我可以用一堆很棒的圖片 當作素材嗎? </p>
<p><a href="http://www.seosmarty.com/flickr-creative-commons/" target="_blank">flickr creative commons</a></p>
<p>下面分享了幾個連結 可以提供過濾 你可以使用的圖片</p>
<h1 id="blur-js">blur.js</h1>
<p><a href="http://www.designedbyaturtle.co.uk/2013/blur-a-background-image/" target="_blank">link</a></p>
<h1 id="cannot-access-local-image">cannot-access-local-image</h1>
<p>我覺得是stackblur的問題</p>
<h1 id="beauty">beauty</h1>
<p><a href="https://www.flickr.com/photos/rvc/14227118044/sizes/l/in/photostream/" target="_blank">https://www.flickr.com/photos/rvc/14227118044/sizes/l/in/photostream/</a></p>
<p><a href="https://www.flickr.com/photos/jono566/14343679501/sizes/h/in/photostream/" target="_blank">https://www.flickr.com/photos/jono566/14343679501/sizes/h/in/photostream/</a></p>
<h1 id="css_blur">css blur</h1>
<p><a href="http://www.inserthtml.com/2012/06/css-filters/" target="_blank">css filter</a></p>
<h1 id="item_blur_effect">item blur effect</h1>
<p><a href="http://tympanus.net/Tutorials/ItemBlur/" target="_blank">link</a></p>
<h1 id="css_is_alwayse_better_than_javascript_in_displaying_effect-">css is alwayse better than javascript in displaying effect.</h1>
<h1 id="css_trick_perfect-full-page-background-image">css trick perfect-full-page-background-image</h1>
<p><a href="http://css-tricks.com/perfect-full-page-background-image/" target="_blank">link</a></p>
<h1 id="groovy_:_Invalid_duplicate_class_definition">groovy : Invalid duplicate class definition</h1>
<p>grooby =&gt;可以是1. <strong>scripts</strong> 2.<strong>class</strong></p>
<p>可是不能一支程式既是scripts 又是class</p>
<p>所以當成class使用的時候 要有static main 程式進入點</p>
<p>當成script使用時 就不要定義class</p>
<h1 id="groovy">groovy</h1>
<h3 id="groovy_class的寫法">groovy class的寫法</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/groovy/2.png" alt="image"></p>
<p>groovy宣告變數的方式 不用宣告型別</p>
<p>def str = ‘Hello World’</p>
<p>javascript宣告變數的方式</p>
<p>var str = ‘Hello World’</p>
<h3 id="groovy_script的寫法_也是用在gradle的寫法">groovy script的寫法 也是用在gradle的寫法</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/groovy/3.png" alt="image"></p>
<h3 id="groovy_list">groovy list</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/groovy/4.png" alt="image"></p>
<h3 id="groovy_map">groovy map</h3>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/groovy/5.png" alt="image"></p>
<h1 id="groovy_on_grails_vs_ruby_on_rails">groovy on grails vs ruby on rails</h1>
<p><a href="http://stackoverflow.com/questions/2376646/what-is-the-difference-between-ruby-on-rails-and-grails" target="_blank">link</a></p>
<h1 id="grooby_local_variable">grooby local variable</h1>
<p>只可以在{  } 被存取 超過 { } 就無法存取</p>
<h1 id="gradle_build_automation">gradle build automation</h1>
<p><a href="http://ithelp.ithome.com.tw/question/10130713" target="_blank">link</a></p>
<h1 id="grail_vs_spring">grail vs spring</h1>
<p><a href="http://stackoverflow.com/questions/1189115/spring-mvc-or-grails" target="_blank">link</a></p>
<h1 id="gradle_task_==_ant_target">gradle task == ant target</h1>
<h1 id="purpose">purpose</h1>
<p><img src="https://dl.dropboxusercontent.com/u/47510080/markdown/groovy/1.png" alt="image"></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
    <a href="/archives/2014/07/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:jackmew.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/blog/">blog</a><small>177</small></li>
  
    <li><a href="/categories/developent/">developent</a><small>2</small></li>
  
    <li><a href="/categories/leandev/">leandev</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/C/">C</a><small>1</small></li>
  
    <li><a href="/tags/CSS/">CSS</a><small>2</small></li>
  
    <li><a href="/tags/HTML/">HTML</a><small>1</small></li>
  
    <li><a href="/tags/JQuery/">JQuery</a><small>2</small></li>
  
    <li><a href="/tags/JQuery Validate/">JQuery Validate</a><small>1</small></li>
  
    <li><a href="/tags/Java/">Java</a><small>1</small></li>
  
    <li><a href="/tags/Jquery mobile/">Jquery mobile</a><small>1</small></li>
  
    <li><a href="/tags/MVC/">MVC</a><small>1</small></li>
  
    <li><a href="/tags/Mac/">Mac</a><small>1</small></li>
  
    <li><a href="/tags/REST/">REST</a><small>1</small></li>
  
    <li><a href="/tags/ajax/">ajax</a><small>1</small></li>
  
    <li><a href="/tags/android/">android</a><small>1</small></li>
  
    <li><a href="/tags/apache/">apache</a><small>1</small></li>
  
    <li><a href="/tags/blog/">blog</a><small>1</small></li>
  
    <li><a href="/tags/bower/">bower</a><small>1</small></li>
  
    <li><a href="/tags/callback/">callback</a><small>2</small></li>
  
    <li><a href="/tags/canvas/">canvas</a><small>2</small></li>
  
    <li><a href="/tags/command/">command</a><small>1</small></li>
  
    <li><a href="/tags/compass/">compass</a><small>1</small></li>
  
    <li><a href="/tags/cordova/">cordova</a><small>3</small></li>
  
    <li><a href="/tags/css/">css</a><small>7</small></li>
  
    <li><a href="/tags/development/">development</a><small>4</small></li>
  
    <li><a href="/tags/dropbox/">dropbox</a><small>2</small></li>
  
    <li><a href="/tags/eclipse/">eclipse</a><small>1</small></li>
  
    <li><a href="/tags/exception handle/">exception handle</a><small>1</small></li>
  
    <li><a href="/tags/express/">express</a><small>8</small></li>
  
    <li><a href="/tags/git/">git</a><small>3</small></li>
  
    <li><a href="/tags/gradle/">gradle</a><small>2</small></li>
  
    <li><a href="/tags/groovy/">groovy</a><small>1</small></li>
  
    <li><a href="/tags/gwt/">gwt</a><small>5</small></li>
  
    <li><a href="/tags/heroku/">heroku</a><small>4</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/tags/hibernate/">hibernate</a><small>1</small></li>
  
    <li><a href="/tags/host/">host</a><small>1</small></li>
  
    <li><a href="/tags/hosting/">hosting</a><small>1</small></li>
  
    <li><a href="/tags/java/">java</a><small>4</small></li>
  
    <li><a href="/tags/javasciprt/">javasciprt</a><small>2</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>7</small></li>
  
    <li><a href="/tags/jquery/">jquery</a><small>1</small></li>
  
    <li><a href="/tags/jquery mobile/">jquery mobile</a><small>4</small></li>
  
    <li><a href="/tags/jquery plugin/">jquery plugin</a><small>1</small></li>
  
    <li><a href="/tags/json/">json</a><small>1</small></li>
  
    <li><a href="/tags/jsonp/">jsonp</a><small>2</small></li>
  
    <li><a href="/tags/kinecticjs/">kinecticjs</a><small>1</small></li>
  
    <li><a href="/tags/kineticjs/">kineticjs</a><small>1</small></li>
  
    <li><a href="/tags/log4j/">log4j</a><small>1</small></li>
  
    <li><a href="/tags/mac/">mac</a><small>6</small></li>
  
    <li><a href="/tags/maven/">maven</a><small>5</small></li>
  
    <li><a href="/tags/mobile/">mobile</a><small>1</small></li>
  
    <li><a href="/tags/mongo/">mongo</a><small>4</small></li>
  
    <li><a href="/tags/mou/">mou</a><small>1</small></li>
  
    <li><a href="/tags/mysql/">mysql</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>10</small></li>
  
    <li><a href="/tags/nodejs/">nodejs</a><small>1</small></li>
  
    <li><a href="/tags/phoneGap/">phoneGap</a><small>1</small></li>
  
    <li><a href="/tags/phonegap/">phonegap</a><small>10</small></li>
  
    <li><a href="/tags/php/">php</a><small>1</small></li>
  
    <li><a href="/tags/plugin/">plugin</a><small>1</small></li>
  
    <li><a href="/tags/remote debug/">remote debug</a><small>1</small></li>
  
    <li><a href="/tags/ripple/">ripple</a><small>1</small></li>
  
    <li><a href="/tags/safari/">safari</a><small>1</small></li>
  
    <li><a href="/tags/sass/">sass</a><small>5</small></li>
  
    <li><a href="/tags/sencha/">sencha</a><small>13</small></li>
  
    <li><a href="/tags/shell/">shell</a><small>1</small></li>
  
    <li><a href="/tags/spring/">spring</a><small>2</small></li>
  
    <li><a href="/tags/spring boot/">spring boot</a><small>5</small></li>
  
    <li><a href="/tags/spring data jpa/">spring data jpa</a><small>5</small></li>
  
    <li><a href="/tags/spring data rest/">spring data rest</a><small>1</small></li>
  
    <li><a href="/tags/spring securitry/">spring securitry</a><small>1</small></li>
  
    <li><a href="/tags/springboot/">springboot</a><small>3</small></li>
  
    <li><a href="/tags/springmvc/">springmvc</a><small>5</small></li>
  
    <li><a href="/tags/springsecurity/">springsecurity</a><small>1</small></li>
  
    <li><a href="/tags/sublime/">sublime</a><small>2</small></li>
  
    <li><a href="/tags/tbs/">tbs</a><small>2</small></li>
  
    <li><a href="/tags/terminal/">terminal</a><small>1</small></li>
  
    <li><a href="/tags/thymeleaf/">thymeleaf</a><small>1</small></li>
  
    <li><a href="/tags/unit test/">unit test</a><small>1</small></li>
  
    <li><a href="/tags/vaadin/">vaadin</a><small>36</small></li>
  
    <li><a href="/tags/vaddin/">vaddin</a><small>1</small></li>
  
    <li><a href="/tags/validate/">validate</a><small>1</small></li>
  
    <li><a href="/tags/validation/">validation</a><small>1</small></li>
  
    <li><a href="/tags/vim/">vim</a><small>1</small></li>
  
    <li><a href="/tags/wbase/">wbase</a><small>4</small></li>
  
    <li><a href="/tags/weinre/">weinre</a><small>1</small></li>
  
    <li><a href="/tags/yahoo finance api/">yahoo finance api</a><small>1</small></li>
  
    <li><a href="/tags/yeoman/">yeoman</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 jackmew
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>